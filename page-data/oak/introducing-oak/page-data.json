{"componentChunkName":"component---src-templates-lesson-template-js","path":"/oak/introducing-oak","result":{"data":{"markdownRemark":{"html":"<p>Just like Node.js has the Express web framework, Deno has a web framework as well. It's called Oak. And since Deno loves anagrams, Oak is an anagram for Koa. Koa is a web framework for Node built on the concept of generators. It's not as popular as Express given that generators haven't taken off syntactically. You might not agree with that statement, but I think it's objectively obvious that we don't see generators in much of the JavaScript code out in the wild. Or maybe you see them. But I don't.</p>\n<p>While Oak is modeled after Koa, it's more useful to compare it to Express because that will be the paradigm that more developers are familiar with, and that's definitely true for <em>this</em> developer.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 465px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/deno-first-look/static/e812bec137af36c10dfe4b944efa000b/ad78b/Expressjs.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 30.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABIUlEQVQY062Ry07CQBSGmwYREwlaiQ2lJoJQggaj8Rl8ARXUaK8g9orQQpW4YOHChSvd+Lp+DYlu3Jg4m5nzn/8yZ0YwvET4jxWli5/CidKC6U9V3Y0lw43zw/F81QqmKmG7t/eTohOmymD0JMGpwimCbd0Mx9WeHaxTq9eD0Wbmg2ZpCLFlB7MKQB3CAQKtHz0enZ7poukl+xgemn5Sh6PCacLRCFYML97hXLP8aTnzeXn7WBoCdhDtIWjp7qRJemZ4HKYLkV7bDmcKIQ36GuEdahlegwlqYIpOD434PfJVP1rr2eE2DcmNn3PsBVJPwBVuUrp7mOcZa6VrBTJ1Nma5a/kyoSU4lUsn2sh8Xt8/BeHC8n99ZExyf/2Yc8MTvgAxpWXnocYc3wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Express JS Logo\"\n        title=\"Express JS Logo\"\n        src=\"/deno-first-look/static/e812bec137af36c10dfe4b944efa000b/ad78b/Expressjs.png\"\n        srcset=\"/deno-first-look/static/e812bec137af36c10dfe4b944efa000b/56d15/Expressjs.png 200w,\n/deno-first-look/static/e812bec137af36c10dfe4b944efa000b/d9f49/Expressjs.png 400w,\n/deno-first-look/static/e812bec137af36c10dfe4b944efa000b/ad78b/Expressjs.png 465w\"\n        sizes=\"(max-width: 465px) 100vw, 465px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Oak is modeled after Koa and Koa is the successor to Express. Given all of that, the syntax for Oak looks a lot like the syntax for Express. The big difference is that Oak does not come with all of the baked-in middleware that Express does. Middleware is code that executes on the request to the server. Middleware can do all sorts of things, from providing templating to handling cookies and so on and so forth.</p>\n<p>Express also provides a nice scaffolding tool that has made it's adoption rather quick. This generator scaffolds out an opinionated folder structure that helps get you moving in the right direction.</p>\n<p>In this next section, we're going to build an opinionated project structure for Koa that mimics what you get today with Express. Before we do that, let's look at what Express does today.</p>\n<h2 id=\"generating-an-express-app\" style=\"position:relative;\"><a href=\"#generating-an-express-app\" aria-label=\"generating an express app permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Generating an Express app</h2>\n<p>Generate a new Express App with Handlebars template support</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">npx express-generator --hbs my-express-app <span class=\"token operator\">&amp;&amp;</span> <span class=\"token builtin class-name\">cd</span> my-express-app <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">npm</span> i</code></pre></div>\n<p>Open the application in your editor</p>\n<p>Run it from your terminal with <code class=\"language-text\">npm start</code>.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/deno-first-look/static/f605cd6bab02984c2d37df8c277884e1/f516f/default-express-app.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAANABQDAREAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAMEBQn/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHd4kCS8AD/xAAcEAABAwUAAAAAAAAAAAAAAAACAAEEAwUUFSD/2gAIAQEAAQUCGFTcsGEtbb+P/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPwFf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPwFf/8QAJBAAAQIEBQUAAAAAAAAAAAAAAgEEAAMREhMgIzRhQZOU0dL/2gAIAQEABj8CPHbszloWhSVVRDreh3DdyFE4jZtfHlfMbJr2Q9ZP/8QAGxABAAICAwAAAAAAAAAAAAAAAREhQXEQIDH/2gAIAQEAAT8hJ3FGdPGKSqKuGFZVkbdca0Y6f//aAAwDAQACAAMAAAAQEgA//8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAwEBPxBf/8QAFBEBAAAAAAAAAAAAAAAAAAAAIP/aAAgBAgEBPxBf/8QAGBABAQEBAQAAAAAAAAAAAAAAAREQIXH/2gAIAQEAAT8Q9MMGlXnqoMM9r9KIvUAgAECALWVV3//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Default Express app in browser\"\n        title=\"Default Express app in browser\"\n        src=\"/deno-first-look/static/f605cd6bab02984c2d37df8c277884e1/a24e6/default-express-app.jpg\"\n        srcset=\"/deno-first-look/static/f605cd6bab02984c2d37df8c277884e1/a6b4f/default-express-app.jpg 200w,\n/deno-first-look/static/f605cd6bab02984c2d37df8c277884e1/a6407/default-express-app.jpg 400w,\n/deno-first-look/static/f605cd6bab02984c2d37df8c277884e1/a24e6/default-express-app.jpg 800w,\n/deno-first-look/static/f605cd6bab02984c2d37df8c277884e1/f516f/default-express-app.jpg 1131w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Examine the project in your editor</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/deno-first-look/static/0b4440b6712dbe0600c3eefc84d28ad0/5fc84/express-app.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAAMABQDAREAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAABAcJ/8QAGAEBAQADAAAAAAAAAAAAAAAAAwYBAgT/2gAMAwEAAhADEAAAAd11MJ6tbEctpaywlaPoD//EAB0QAAICAQUAAAAAAAAAAAAAAAECAwQFAAYREyL/2gAIAQEAAQUCcdMR5NlxIx2lm7edRPcjBpNf/8QAJhEAAQMDAwMFAQAAAAAAAAAAAQIDEQASIQQiMQVBYQYTQnGhsf/aAAgBAwEBPwFMgBNsBOE7px/aUohQG0Azm+SSIkW/GJ2nN8nizJcWkwGHHPKVNADxvcSZ78RmvSfWtV1pvWuapDDZZdZSkadLiQQ4hSzd7jrpkEQIIEcgnNQJ+uMCacukWrUnHADZ7nO5Cj+xX//EACQRAAEDAwMEAwAAAAAAAAAAAAECAxEAEjEEIUEFBiJhE1Gh/9oACAECAQE/AVWkyF3E7qlEGefVSLijkAE+JGSQIVg4xHjzkUhptYlWoaZMxapDyjH3Lba0+sztjFd8dA0Xb7vTmtEvUODUNPrWdSppagWlobTb8TLIghUmQTOCBtXE803ZBuaQszlRdBwNvBxA/J94r//EACUQAAICAQMEAQUAAAAAAAAAAAECAxEhABIxBBMiYaEjQVNisf/aAAgBAQAGPwKzEgp9oPcG0g3WScH1oeW1DHG4G5WBP3AJFknGbBP8tYp5P2jmSMcnFPKhv3Va65urWGPtSRhR0wljHkrub3zSHn3xzZzry/FGwwuCVzRrd86DdxkxwqwkYZs/Uikb5r1r/8QAGxABAQEBAQEBAQAAAAAAAAAAAREhMQBRQWH/2gAIAQEAAT8hCwUUSUB7IP4Snz1kNvkN20DZA4+QBZEFTQ0BFFBAcQ6wfqWrJmYD8PDNh+5Wkq1eKA5NsS0heINWElnLA2//2gAMAwEAAgADAAAAENWjf//EABkRAQEBAQEBAAAAAAAAAAAAAAERIQBBcf/aAAgBAwEBPxALNQiHs1dZo/NzkFDQgtL4QAqhGFOMBe1+VFjYASUiNoJSMyx4QAjXAWShYqgpGKKX2ToyVtGLvVhIIDFlVf/EABsRAQEBAQADAQAAAAAAAAAAAAERITEAQZGx/9oACAECAQE/EBx64BJwFg5RF9nvwtIhSQNoXbpDApJIBhB8AJlCrCKSgUil7/FiHSrxGklxBrs2b+b9fHFRYUHMSRrVUooAf//EABgQAQEBAQEAAAAAAAAAAAAAAAERACFR/9oACAEBAAE/EEqATzym3jMUYUjH7lAisE4lDBtPUdRYKOoy6XR7pw5MITSoQy6wHUJTKDhHAGlnSfWTVAAgA8lB5//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Express app open in VS Code\"\n        title=\"Express app open in VS Code\"\n        src=\"/deno-first-look/static/0b4440b6712dbe0600c3eefc84d28ad0/a24e6/express-app.jpg\"\n        srcset=\"/deno-first-look/static/0b4440b6712dbe0600c3eefc84d28ad0/a6b4f/express-app.jpg 200w,\n/deno-first-look/static/0b4440b6712dbe0600c3eefc84d28ad0/a6407/express-app.jpg 400w,\n/deno-first-look/static/0b4440b6712dbe0600c3eefc84d28ad0/a24e6/express-app.jpg 800w,\n/deno-first-look/static/0b4440b6712dbe0600c3eefc84d28ad0/03ffe/express-app.jpg 1200w,\n/deno-first-look/static/0b4440b6712dbe0600c3eefc84d28ad0/5fc84/express-app.jpg 1267w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<ul>\n<li>Examine the <code class=\"language-text\">app.js</code> file. Note that Express puts all of it's application setup logic in the <code class=\"language-text\">app.js</code> file.</li>\n<li>Examine the \"views\" folder. Note that there is a layout, index and error template.</li>\n<li>Examine the \"routes\" folder. Note that the specific route logic is handled in these files</li>\n<li>Examine the \"public\" folder. Note that any files that are placed in this folder can be referenced in the template files via the \"public\" relative URL.</li>\n<li>Examine the \"bin\" folder. Note that the <code class=\"language-text\">www</code> file contained inside is the entry point of the application.</li>\n</ul>\n<p>We're going to replicate this exact same application setup and build this same default Express app with the Oak framework. This will give us a chance to see how Oak handles routing, templates, static files and other concepts we'll need for a proper web framework. The end result will look almost identical to the default Express App.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/deno-first-look/static/9c9aae749d89d3da6d3a55c17470b5bc/f516f/oak-default-app.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAANABQDAREAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMFCf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAd4hgkuAB//EABwQAAEDBQAAAAAAAAAAAAAAAAABAgQDBRQVIP/aAAgBAQABBQJIdFxgwjW2/j//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAEDAQE/AV//xAAUEQEAAAAAAAAAAAAAAAAAAAAg/9oACAECAQE/AV//xAAlEAABAwIDCQAAAAAAAAAAAAABAgQRABMDIDQhIzFBUZOU0dL/2gAIAQEABj8CN5s1UEqNrdAwg8JC5AX1I2HlFaNr4+F81omvZR6yf//EABoQAQEBAAMBAAAAAAAAAAAAAAERIQAgcUH/2gAIAQEAAT8heOSYMUGICS4QMeYVlWjr5zzh86f/2gAMAwEAAgADAAAAEJIAP//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8QX//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8QX//EABcQAQEBAQAAAAAAAAAAAAAAAAERECH/2gAIAQEAAT8QDDyeH2MDDUDOHtfpRF6gEAAgQBayqu//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Default Oak app in browser\"\n        title=\"Default Oak app in browser\"\n        src=\"/deno-first-look/static/9c9aae749d89d3da6d3a55c17470b5bc/a24e6/oak-default-app.jpg\"\n        srcset=\"/deno-first-look/static/9c9aae749d89d3da6d3a55c17470b5bc/a6b4f/oak-default-app.jpg 200w,\n/deno-first-look/static/9c9aae749d89d3da6d3a55c17470b5bc/a6407/oak-default-app.jpg 400w,\n/deno-first-look/static/9c9aae749d89d3da6d3a55c17470b5bc/a24e6/oak-default-app.jpg 800w,\n/deno-first-look/static/9c9aae749d89d3da6d3a55c17470b5bc/f516f/oak-default-app.jpg 1131w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>","frontmatter":{"path":"/oak/introducing-oak","title":"Introducing Oak","order":"7A","section":"7 - Oak web framework","description":"Burke introduces the Oak web framework for Deno"}},"allMarkdownRemark":{"edges":[{"node":{"frontmatter":{"order":"4D","path":"/dependencies/best-practices","title":"Best Practices"}}},{"node":{"frontmatter":{"order":"4E","path":"/dependencies/compatibility-with-node","title":"Compatibility With Node"}}},{"node":{"frontmatter":{"order":"4B","path":"/dependencies/local-dependencies","title":"Local dependencies"}}},{"node":{"frontmatter":{"order":"4C","path":"/dependencies/remote-dependencies","title":"Remote dependencies"}}},{"node":{"frontmatter":{"order":"4A","path":"/dependencies/think-like-a-browser","title":"Thinking like a browser"}}},{"node":{"frontmatter":{"order":"8B","path":"/deploying/containerize-deno-app","title":"Containerizing a Deno Application"}}},{"node":{"frontmatter":{"order":"8C","path":"/deploying/deploy-deno-image","title":"Deploying the Deno image"}}},{"node":{"frontmatter":{"order":"8B","path":"/deploying/push-to-image-registry","title":"Pushing the Deno image to a registry"}}},{"node":{"frontmatter":{"order":"3E","path":"/getting-to-know/arguments-and-flags","title":"CLI Tour"}}},{"node":{"frontmatter":{"order":"3F","path":"/getting-to-know/debugging","title":"Debugging"}}},{"node":{"frontmatter":{"order":"3D","path":"/getting-to-know/deno-object","title":"The Deno object"}}},{"node":{"frontmatter":{"order":"3C","path":"/getting-to-know/first-program","title":"Your first program"}}},{"node":{"frontmatter":{"order":"3A","path":"/getting-to-know/install","title":"Installing Deno"}}},{"node":{"frontmatter":{"order":"3B","path":"/getting-to-know/tooling","title":"Tooling"}}},{"node":{"frontmatter":{"order":"7A","path":"/oak/introducing-oak","title":"Introducing Oak"}}},{"node":{"frontmatter":{"order":"7C","path":"/oak/oak-router","title":"The Oak Router"}}},{"node":{"frontmatter":{"order":"7D","path":"/oak/oak-templates","title":"Templates"}}},{"node":{"frontmatter":{"order":"7B","path":"/oak/simple-oak","title":"A Simple Oak Server"}}},{"node":{"frontmatter":{"order":"7E","path":"/oak/simple-oak","title":"Serving Static Files"}}},{"node":{"frontmatter":{"order":"5D","path":"/permissions/determining-permissions","title":"Determining Permissions"}}},{"node":{"frontmatter":{"order":"5A","path":"/permissions/granting-permissions","title":"Granting Permissions"}}},{"node":{"frontmatter":{"order":"5C","path":"/permissions/permission-specificity","title":"Permission Specificity"}}},{"node":{"frontmatter":{"order":"5B","path":"/permissions/requesting-permissions","title":"Requesting Permissions"}}},{"node":{"frontmatter":{"order":"6B","path":"/webserver/reading-parameters","title":"Reading the query string"}}},{"node":{"frontmatter":{"order":"6A","path":"/webserver/simple","title":"Building a simple webserver"}}},{"node":{"frontmatter":{"order":"6C","path":"/webserver/static-files","title":"Serving up static files"}}},{"node":{"frontmatter":{"order":"1B","path":"/exercises","title":"How to use the exercises"}}},{"node":{"frontmatter":{"order":"1A","path":"/intro","title":"Introduction"}}},{"node":{"frontmatter":{"order":"2C","path":"/what-is/dependency-hell","title":"Dependency Hell"}}},{"node":{"frontmatter":{"order":"2B","path":"/what-is/secure-by-default","title":"Secure By Default"}}},{"node":{"frontmatter":{"order":"2D","path":"/what-is/typescript-first","title":"TypeScript First"}}},{"node":{"frontmatter":{"order":"2A","path":"/what-is/why-oh-why","title":"Why"}}}]}},"pageContext":{}},"staticQueryHashes":["2959687377"]}