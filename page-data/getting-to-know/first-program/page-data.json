{"componentChunkName":"component---src-templates-lesson-template-js","path":"/getting-to-know/first-program","result":{"data":{"markdownRemark":{"html":"<blockquote>\n<p>Switch to the <a href=\"https://github.com/burkeholland/deno-exercises/tree/3-your-first-program\">3-your-first-program</a> branch to follow along with this section.</p>\n</blockquote>\n<p>Deno programs can be written in TypeScript or JavaScript. Either will work.</p>\n<p>In the \"app.ts\" file in the \"exercise\" folder, write out \"Hello World\" to the terminal.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello World\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Execute the file with Deno from your terminal. Make sure you are in the exercise directory where the \"app.ts\" file is located.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">deno run app.ts</code></pre></div>\n<p>You should see the following output...</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">Check file:///home/burkeholland/dev/deno-first-look-exercises/app.ts\nHello World</code></pre></div>\n<p>Notice that the terminal says \"Check &#x3C;file-path/app.ts>\". There is then a bit of delay before that \"Hello World\" shows up.</p>\n<p>Run the program a second time</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">deno run app.ts</code></pre></div>\n<p>This time it doesn't say \"Checking\". This time it just runs and \"Hello World\" shows up immediately.</p>\n<p>In order to understand what's happening here, we need to understand what Deno is doing when it \"Checks\" a file.</p>\n<h2 id=\"deno-run---behind-the-scenes\" style=\"position:relative;\"><a href=\"#deno-run---behind-the-scenes\" aria-label=\"deno run   behind the scenes permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Deno run - behind the scenes</h2>\n<p>While TypeScript is a first-class citizen in Deno, it still has to be JavaScript before V8 can run it. Deno has to convert the file to TypeScript using the TypeScript compiler/transpiler. When it does this, it creates a \"build\" of your file on your system. Let's investigate that.</p>\n<p>Navigate from your terminal to the \"deno\" cache directory. This will be different if you are on Windows vs Linux. You can use the \"deno info\" command from your terminal and it will tell you exactly where your cache folder is.</p>\n<p>Linux</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">~/.cache/deno/gen/file/&lt;path-to-deno-first-look-exercises&gt;\n\n// on my machine, it looks like this...\n~/.cache/deno/gen/file/home/burkeholland/dev/deno-first-look-excercises</code></pre></div>\n<p>Windows</p>\n<div class=\"gatsby-highlight\" data-language=\"powershell\"><pre class=\"language-powershell\"><code class=\"language-powershell\">C:\\Users\\burkeholland\\AppData\\Local\\deno\\gen\\file\\&lt;path<span class=\"token operator\">-</span>to<span class=\"token operator\">-</span>deno<span class=\"token operator\">-</span>first<span class=\"token operator\">-</span>look<span class=\"token operator\">-</span>exercises>\n\n<span class=\"token operator\">/</span><span class=\"token operator\">/</span> on my machine<span class=\"token punctuation\">,</span> it looks like this<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\nC:\\Users\\burkeholland\\AppData\\Local\\deno\\gen\\file\\C\\dev\\burkeholland\\deno<span class=\"token operator\">-</span>first<span class=\"token operator\">-</span>look<span class=\"token operator\">-</span>windows</code></pre></div>\n<p>Inside that folder, you will find several files...</p>\n<ul>\n<li>app.ts.bundleinfo</li>\n<li>app.ts.js</li>\n<li>app.ts.meta</li>\n</ul>\n<p>Open this folder in VS Code by executing the following command in the terminal from the same folder where these files are located.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">code <span class=\"token builtin class-name\">.</span></code></pre></div>\n<p>This is the output of your program. The \"app.ts.bundleinfo\" file contains your program's build info. It has paths to TypeScript definition files.</p>\n<p>If you scroll all the way down to the bottom, you'll see an embedded \".tsconfig\"</p>\n<p>The \"app.ts.js\" file contains the JavaScript output of your code - minified and with sourcemaps.</p>\n<p>The <code class=\"language-text\">app.ts.meta</code> contains information concerning the version of your file. Deno is using these files to determine what dependencies your program has, what version it is, etc. We'll look at this again later on and you'll understand more about <em>why</em> Deno is doing all of this.</p>\n<p>In summary, Deno is the compiler and it checks code for errors the way any strongly typed language compiler would.</p>\n<h2 id=\"running-without-checks\" style=\"position:relative;\"><a href=\"#running-without-checks\" aria-label=\"running without checks permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Running without checks</h2>\n<p>You can go around the TypeScript checking all-together by passing the \"--no-check\" flag to the run command.</p>\n<p>Modify the app.ts to contain the following valid TypeScript code...</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token keyword\">const</span> message<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"Hello World\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Run it with the <code class=\"language-text\">--no-check</code> flag...</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">deno run --no-check app.ts</code></pre></div>\n<p>This time the app runs without the check. There is still a slight delay as the code is transpiled, but it's faster because it's not checked for errors first.</p>\n<p>If you run the code again, it will be even faster because nothing has changed, so it doesn't need to be transpiled again.</p>\n<h2 id=\"executing-javascript\" style=\"position:relative;\"><a href=\"#executing-javascript\" aria-label=\"executing javascript permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Executing JavaScript</h2>\n<p>In the same way that you execute TypeScript, you can execute plain JavaScript.</p>\n<p>In the \"app.js\" file, add a line to print out \"Hello World\".</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello World\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Run the file from your terminal with Deno.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">deno run app.js</code></pre></div>\n<p>Notice that there is no check this time and the result is immediate. And there is nothing in the \"gen\" folder because there is no generation that needs to happen.</p>\n<p>When executing JavaScript files in Node, you don't need to pass a file extension. This is why Express apps have a file called \"bin/www\" with no extension.</p>\n<p>Deno supports this as well. However, it will only recognize a file as TypeScript if the file has a .ts extension. In any event, the follow code works in Node and Deno...</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">node app <span class=\"token operator\">||</span> deno run app\nHello  World    </code></pre></div>\n<h2 id=\"executing-remote-scripts\" style=\"position:relative;\"><a href=\"#executing-remote-scripts\" aria-label=\"executing remote scripts permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Executing remote scripts</h2>\n<p>Deno can also execute scripts that are remote. That means that you literally call them with a URL. This is why the Deno docs have you call their sample \"Hello World\" program. This feels awfully unintuitive for a JavaScript developer. We explicitly do <strong>not</strong> execute scripts from other sources because we don't know what they are going to do. But since Deno is \"secure by default\" as we discussed earlier, the model changes and Deno actually expects you to include code from remote locations.</p>\n<p>Instead of running our local \"app.ts\" file, execute the remote \"Hello World\" example that Deno provides...</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">deno run https://deno.land/std@0.76.0/examples/welcome.ts\n\nDownload https://deno.land/std@0.76.0/examples/welcome.ts\nCheck https://deno.land/std@0.76.0/examples/welcome.ts\nWelcome to Deno 🦕</code></pre></div>\n<p>Notice that first Deno downloads the file, then it sends it through the compiler/transpiler, then executes it. Normally, we would consider this a highly dangerous thing to do, because we don't know what this file is or what it might attempt! But because Deno will not allow any program to access your files system, the net or do virtually anything else without your permission, this is ok.</p>\n<p>But where is this file downloaded to? For that, we need to go back to the cache.</p>\n<h2 id=\"where-deno-downloads-dependencies\" style=\"position:relative;\"><a href=\"#where-deno-downloads-dependencies\" aria-label=\"where deno downloads dependencies permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Where Deno downloads dependencies</h2>\n<p>Deno treats this file as a dependency, and downloads it to the same place it downloads all dependencies. This file isn't really a dependency that we are using in our program - it IS the program. But Deno treats it the same way it treats dependencies.</p>\n<p>Navigate from your terminal to the \"deno.land\" directory in the \"deno\" cache. This will be different if you are on Windows vs Linux...</p>\n<p>Linux</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">~/.cache/deno/deps/https/deno.land</code></pre></div>\n<p>Windows</p>\n<div class=\"gatsby-highlight\" data-language=\"powershell\"><pre class=\"language-powershell\"><code class=\"language-powershell\">/<span class=\"token operator\">/</span> on my machine<span class=\"token punctuation\">,</span> it looks like this<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\nC:\\Users\\burkeholland\\AppData\\Local\\deno\\deps\\https\\deno<span class=\"token punctuation\">.</span>land</code></pre></div>\n<p>In that folder, provided you have never worked with Deno before, you should see 2 files both with really long names. One has no extension and the other has a <code class=\"language-text\">.metadata.json</code> extension. Something like this...</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">d85d61a352596fd18eac16f29315093cc2e293166b66528a92e171492992f148\nd85d61a352596fd18eac16f29315093cc2e293166b66528a92e171492992f148.metadata.json</code></pre></div>\n<p>You can open that first file - the one without the extension - in your editor, and you'll see the code in the \"welcome.ts\" file that you ran from \"<a href=\"https://deno.land/std@0.76.0/examples/welcome.ts%22..\">https://deno.land/std@0.76.0/examples/welcome.ts\"..</a>.</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre class=\"language-typescript\"><code class=\"language-typescript\"><span class=\"token comment\">// Copyright 2018-2020 the Deno authors. All rights reserved. MIT license.</span>\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Welcome to Deno 🦕\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Deno downloaded that file, cached it, transpiled it to JavaScript and executed it.</p>","frontmatter":{"path":"/getting-to-know/first-program","title":"Your first program","order":"3C","section":"3 - Getting to know Deno","description":"Burke goes over how to write your first program with Deno and execute it with the Deno CLI."}},"allMarkdownRemark":{"edges":[{"node":{"frontmatter":{"order":"4D","path":"/dependencies/best-practices","title":"Best Practices"}}},{"node":{"frontmatter":{"order":"4E","path":"/dependencies/compatibility-with-node","title":"Compatibility With Node"}}},{"node":{"frontmatter":{"order":"4B","path":"/dependencies/local-dependencies","title":"Local dependencies"}}},{"node":{"frontmatter":{"order":"4C","path":"/dependencies/remote-dependencies","title":"Remote dependencies"}}},{"node":{"frontmatter":{"order":"4A","path":"/dependencies/think-like-a-browser","title":"Thinking like a browser"}}},{"node":{"frontmatter":{"order":"8A","path":"/deploying/containerize-deno-app","title":"Containerizing a Deno Application"}}},{"node":{"frontmatter":{"order":"8C","path":"/deploying/deploy-deno-image","title":"Deploying the Deno image"}}},{"node":{"frontmatter":{"order":"8B","path":"/deploying/push-to-image-registry","title":"Pushing the Deno image to a registry"}}},{"node":{"frontmatter":{"order":"3E","path":"/getting-to-know/arguments-and-flags","title":"CLI Tour"}}},{"node":{"frontmatter":{"order":"3F","path":"/getting-to-know/debugging","title":"Debugging"}}},{"node":{"frontmatter":{"order":"3D","path":"/getting-to-know/deno-object","title":"The Deno object"}}},{"node":{"frontmatter":{"order":"3C","path":"/getting-to-know/first-program","title":"Your first program"}}},{"node":{"frontmatter":{"order":"3A","path":"/getting-to-know/install","title":"Installing Deno"}}},{"node":{"frontmatter":{"order":"3B","path":"/getting-to-know/tooling","title":"Tooling"}}},{"node":{"frontmatter":{"order":"7A","path":"/oak/introducing-oak","title":"Introducing Oak"}}},{"node":{"frontmatter":{"order":"7C","path":"/oak/oak-router","title":"The Oak Router"}}},{"node":{"frontmatter":{"order":"7D","path":"/oak/oak-templates","title":"Templates"}}},{"node":{"frontmatter":{"order":"7B","path":"/oak/simple-oak","title":"A Simple Oak Server"}}},{"node":{"frontmatter":{"order":"7E","path":"/oak/static-files","title":"Serving Static Files"}}},{"node":{"frontmatter":{"order":"5D","path":"/permissions/determining-permissions","title":"Determining Permissions"}}},{"node":{"frontmatter":{"order":"5A","path":"/permissions/granting-permissions","title":"Granting Permissions"}}},{"node":{"frontmatter":{"order":"5C","path":"/permissions/permission-specificity","title":"Permission Specificity"}}},{"node":{"frontmatter":{"order":"5B","path":"/permissions/requesting-permissions","title":"Requesting Permissions"}}},{"node":{"frontmatter":{"order":"6B","path":"/webserver/reading-parameters","title":"Reading the query string"}}},{"node":{"frontmatter":{"order":"6A","path":"/webserver/simple","title":"Building a simple webserver"}}},{"node":{"frontmatter":{"order":"6C","path":"/webserver/static-files","title":"Serving up static files"}}},{"node":{"frontmatter":{"order":"1B","path":"/exercises","title":"How to use the exercises"}}},{"node":{"frontmatter":{"order":"1A","path":"/intro","title":"Introduction"}}},{"node":{"frontmatter":{"order":"2C","path":"/what-is/dependency-hell","title":"Dependency Hell"}}},{"node":{"frontmatter":{"order":"2B","path":"/what-is/secure-by-default","title":"Secure By Default"}}},{"node":{"frontmatter":{"order":"2D","path":"/what-is/typescript-first","title":"TypeScript First"}}},{"node":{"frontmatter":{"order":"2A","path":"/what-is/why-oh-why","title":"What & Why"}}}]}},"pageContext":{}},"staticQueryHashes":["2959687377"]}